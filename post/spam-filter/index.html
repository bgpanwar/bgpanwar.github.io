<!DOCTYPE HTML>

<html>
    <head>
        
            
                <title>Spam Filter</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.21" />
        


        
            <meta name="author" content="Bhawna G. Panwar">
        
        
            
                <meta name="description" content="HTML5 UP theme, Future Imperfect with some extra goodies, ported by Julio Pescador. Powered by Hugo">
            
        

        

  <meta name="twitter:card" content="summary"/>



<meta name="twitter:text:title" content="Spam Filter"/>
<meta name="twitter:title" content="Spam Filter"/>
<meta name="twitter:description" content="Perform the SMS spam filtering analysis. Produce a report explaining the data, the analysis, and the findings. Organize you report using the Five Steps. Show the prediction that the algorithm produced. Give the Accuracy of the predictions. Include the confusion matrix.Find an interesting dataset that is appropriate for applying the naive Bayes algorithm, try to load the data into R, and proceed to classify the data using naive Bayes.Problem#1: Filtering spam SMS messagesStep 2: Exploring and preparing the data —-# read the sms data into the sms data framesms_raw &lt;- read."/>
<meta name="twitter:site" content="@bgpanwar"/>

        <meta property="og:title" content="Spam Filter" />
<meta property="og:description" content="Perform the SMS spam filtering analysis. Produce a report explaining the data, the analysis, and the findings. Organize you report using the Five Steps. Show the prediction that the algorithm produced. Give the Accuracy of the predictions. Include the confusion matrix.Find an interesting dataset that is appropriate for applying the naive Bayes algorithm, try to load the data into R, and proceed to classify the data using naive Bayes.Problem#1: Filtering spam SMS messagesStep 2: Exploring and preparing the data —-# read the sms data into the sms data framesms_raw &lt;- read." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bgpanwar.github.io/post/spam-filter/" />



<meta property="article:published_time" content="2017-07-01T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2017-07-01T00:00:00&#43;00:00"/>











        
<meta itemprop="name" content="Spam Filter">
<meta itemprop="description" content="Perform the SMS spam filtering analysis. Produce a report explaining the data, the analysis, and the findings. Organize you report using the Five Steps. Show the prediction that the algorithm produced. Give the Accuracy of the predictions. Include the confusion matrix.Find an interesting dataset that is appropriate for applying the naive Bayes algorithm, try to load the data into R, and proceed to classify the data using naive Bayes.Problem#1: Filtering spam SMS messagesStep 2: Exploring and preparing the data —-# read the sms data into the sms data framesms_raw &lt;- read.">


<meta itemprop="dateModified" content="2017-07-01T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="3550">



<meta itemprop="keywords" content="" />

        

        

        
        
            
        

        
        
            <link rel="stylesheet" href="/css/google-font.css" />
            <link rel="stylesheet" href="/css/font-awesome.min.css" />
            <link rel="stylesheet" href="/css/main.css" />
            <link rel="stylesheet" href="/css/add-on.css" />
            <link rel="stylesheet" href="/css/monokai-sublime.css">
        

        

        
        
        
            
        
    </head>
    <body>

        
        <div id="wrapper">

    
    
<header id="header">
    
        <h2><a href="/">Data Pond</i></a></h2>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/post">
                        
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="/categories">
                        Categories
                    </a>
                </li>
            
                <li>
                    <a href="/about">
                        About
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="q" value="site:https://bgpanwar.github.io/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="q" value="site:https://bgpanwar.github.io/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/post">
                            <h3>
                                
                                    <i class="fa fa-newspaper-o">&nbsp;</i>
                                
                                Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories">
                            <h3>
                                
                                Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/about">
                            <h3>
                                
                                About
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section>
            <ul class="links">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    <li>
                        <a href="https://bgpanwar.github.io/post/ann-rmd/"><p>ANN</p></a>
                    </li>
                
                    <li>
                        <a href="https://bgpanwar.github.io/post/scatter/"><p>Scatter</p></a>
                    </li>
                
                    <li>
                        <a href="https://bgpanwar.github.io/post/spam-filter/"><p>Spam Filter</p></a>
                    </li>
                
                    <li>
                        <a href="https://bgpanwar.github.io/post/support-vector-machine/"><p>Support Vector Machine</p></a>
                    </li>
                
                    <li>
                        <a href="https://bgpanwar.github.io/post/times-series/"><p>Times Series</p></a>
                    </li>
                
                    <li>
                        <a href="https://bgpanwar.github.io/post/bootstrap/"><p>How does the Bootstrap method work?</p></a>
                    </li>
                
                    <li>
                        <a href="https://bgpanwar.github.io/post/"><p>Posts</p></a>
                    </li>
                
            </ul>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            


<li><a href="//twitter.com/share?url=https%3a%2f%2fbgpanwar.github.io%2fpost%2fspam-filter%2f&text=Spam%20Filter&via=bgpanwar" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>


<li><a href="//plus.google.com/share?url=https%3a%2f%2fbgpanwar.github.io%2fpost%2fspam-filter%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
</a></li>


<li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fbgpanwar.github.io%2fpost%2fspam-filter%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>


<li><a href="//reddit.com/submit?url=https%3a%2f%2fbgpanwar.github.io%2fpost%2fspam-filter%2f&title=Spam%20Filter" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>


<li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fbgpanwar.github.io%2fpost%2fspam-filter%2f&title=Spam%20Filter" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>


<li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fbgpanwar.github.io%2fpost%2fspam-filter%2f&title=Spam%20Filter" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>


<li><a href="mailto:?subject=Check out this post by Bhawna%20G.%20Panwar&body=https%3a%2f%2fbgpanwar.github.io%2fpost%2fspam-filter%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>

        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
    <header>
    <div class="title">
        
            <h1><a href="https://bgpanwar.github.io/post/spam-filter/">Spam Filter</a></h1>
            
        
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2017-07-01'>
            July 1, 2017</time>
        <span class="author">Bhawna G. Panwar</span>
        
            <p>17 minute read</p>
        
        
    </div>
</header>


    

    <div id="content">
        <ol style="list-style-type: decimal">
<li>Perform the SMS spam filtering analysis. Produce a report explaining the data, the analysis, and the findings. Organize you report using the Five Steps. Show the prediction that the algorithm produced. Give the Accuracy of the predictions. Include the confusion matrix.</li>
<li>Find an interesting dataset that is appropriate for applying the naive Bayes algorithm, try to load the data into R, and proceed to classify the data using naive Bayes.</li>
</ol>
<div id="problem1-filtering-spam-sms-messages" class="section level1">
<h1>Problem#1: Filtering spam SMS messages</h1>
<div id="step-2-exploring-and-preparing-the-data--" class="section level2">
<h2>Step 2: Exploring and preparing the data —-</h2>
<pre class="r"><code># read the sms data into the sms data frame
sms_raw &lt;- read.csv(&quot;C:/Users/Bhawna/Documents/blog/data/sms_spam.csv&quot;, stringsAsFactors = FALSE)

# examine the structure of the sms data
str(sms_raw)</code></pre>
<pre><code>## &#39;data.frame&#39;:    5559 obs. of  2 variables:
##  $ type: chr  &quot;ham&quot; &quot;ham&quot; &quot;ham&quot; &quot;spam&quot; ...
##  $ text: chr  &quot;Hope you are having a good week. Just checking in&quot; &quot;K..give back my thanks.&quot; &quot;Am also doing in cbe only. But have to pay.&quot; &quot;complimentary 4 STAR Ibiza Holiday or Â£10,000 cash needs your URGENT collection. 09066364349 NOW from Landline not to lose out&quot;| __truncated__ ...</code></pre>
<pre class="r"><code># convert spam/ham to factor.
sms_raw$type &lt;- factor(sms_raw$type)

# examine the type variable more carefully
str(sms_raw$type)</code></pre>
<pre><code>##  Factor w/ 2 levels &quot;ham&quot;,&quot;spam&quot;: 1 1 1 2 2 1 1 1 2 1 ...</code></pre>
<pre class="r"><code>table(sms_raw$type)</code></pre>
<pre><code>## 
##  ham spam 
## 4812  747</code></pre>
<pre class="r"><code># build a corpus using the text mining (tm) package
library(tm)</code></pre>
<pre><code>## Loading required package: NLP</code></pre>
<pre class="r"><code>sms_corpus &lt;- VCorpus(VectorSource(sms_raw$text))

# examine the sms corpus
print(sms_corpus)</code></pre>
<pre><code>## &lt;&lt;VCorpus&gt;&gt;
## Metadata:  corpus specific: 0, document level (indexed): 0
## Content:  documents: 5559</code></pre>
<pre class="r"><code>inspect(sms_corpus[1:2])</code></pre>
<pre><code>## &lt;&lt;VCorpus&gt;&gt;
## Metadata:  corpus specific: 0, document level (indexed): 0
## Content:  documents: 2
## 
## [[1]]
## &lt;&lt;PlainTextDocument&gt;&gt;
## Metadata:  7
## Content:  chars: 49
## 
## [[2]]
## &lt;&lt;PlainTextDocument&gt;&gt;
## Metadata:  7
## Content:  chars: 23</code></pre>
<pre class="r"><code>as.character(sms_corpus[[1]])</code></pre>
<pre><code>## [1] &quot;Hope you are having a good week. Just checking in&quot;</code></pre>
<pre class="r"><code>lapply(sms_corpus[1:2], as.character)</code></pre>
<pre><code>## $`1`
## [1] &quot;Hope you are having a good week. Just checking in&quot;
## 
## $`2`
## [1] &quot;K..give back my thanks.&quot;</code></pre>
<pre class="r"><code># clean up the corpus using tm_map()
sms_corpus_clean &lt;- tm_map(sms_corpus, content_transformer(tolower))

# show the difference between sms_corpus and corpus_clean
as.character(sms_corpus[[1]])</code></pre>
<pre><code>## [1] &quot;Hope you are having a good week. Just checking in&quot;</code></pre>
<pre class="r"><code>as.character(sms_corpus_clean[[1]])</code></pre>
<pre><code>## [1] &quot;hope you are having a good week. just checking in&quot;</code></pre>
<pre class="r"><code>sms_corpus_clean &lt;- tm_map(sms_corpus_clean, removeNumbers) # remove numbers
sms_corpus_clean &lt;- tm_map(sms_corpus_clean, removeWords, stopwords()) # remove stop words
sms_corpus_clean &lt;- tm_map(sms_corpus_clean, removePunctuation) # remove punctuation</code></pre>
<pre class="r"><code># tip: create a custom function to replace (rather than remove) punctuation
removePunctuation(&quot;hello...world&quot;)</code></pre>
<pre><code>## [1] &quot;helloworld&quot;</code></pre>
<pre class="r"><code>replacePunctuation &lt;- function(x) { gsub(&quot;[[:punct:]]+&quot;, &quot; &quot;, x) }
replacePunctuation(&quot;hello...world&quot;)</code></pre>
<pre><code>## [1] &quot;hello world&quot;</code></pre>
<pre class="r"><code># illustration of word stemming
library(SnowballC)
wordStem(c(&quot;learn&quot;, &quot;learned&quot;, &quot;learning&quot;, &quot;learns&quot;))</code></pre>
<pre><code>## [1] &quot;learn&quot; &quot;learn&quot; &quot;learn&quot; &quot;learn&quot;</code></pre>
<pre class="r"><code>sms_corpus_clean &lt;- tm_map(sms_corpus_clean, stemDocument)

sms_corpus_clean &lt;- tm_map(sms_corpus_clean, stripWhitespace) # eliminate unneeded whitespace

# examine the final clean corpus
lapply(sms_corpus[1:3], as.character)</code></pre>
<pre><code>## $`1`
## [1] &quot;Hope you are having a good week. Just checking in&quot;
## 
## $`2`
## [1] &quot;K..give back my thanks.&quot;
## 
## $`3`
## [1] &quot;Am also doing in cbe only. But have to pay.&quot;</code></pre>
<pre class="r"><code>lapply(sms_corpus_clean[1:3], as.character)</code></pre>
<pre><code>## $`1`
## [1] &quot;hope good week just check&quot;
## 
## $`2`
## [1] &quot;kgive back thank&quot;
## 
## $`3`
## [1] &quot; also cbe pay&quot;</code></pre>
<pre class="r"><code># create a document-term sparse matrix
sms_dtm &lt;- DocumentTermMatrix(sms_corpus_clean)

# alternative solution: create a document-term sparse matrix directly from the SMS corpus
sms_dtm2 &lt;- DocumentTermMatrix(sms_corpus, control = list(
  tolower = TRUE,
  removeNumbers = TRUE,
  stopwords = TRUE,
  removePunctuation = TRUE,
  stemming = TRUE
))

# alternative solution: using custom stop words function ensures identical result
sms_dtm3 &lt;- DocumentTermMatrix(sms_corpus, control = list(
  tolower = TRUE,
  removeNumbers = TRUE,
  stopwords = function(x) { removeWords(x, stopwords()) },
  removePunctuation = TRUE,
  stemming = TRUE
))

# compare the result
sms_dtm</code></pre>
<pre><code>## &lt;&lt;DocumentTermMatrix (documents: 5559, terms: 6576)&gt;&gt;
## Non-/sparse entries: 42173/36513811
## Sparsity           : 100%
## Maximal term length: 40
## Weighting          : term frequency (tf)</code></pre>
<pre class="r"><code>sms_dtm2</code></pre>
<pre><code>## &lt;&lt;DocumentTermMatrix (documents: 5559, terms: 6965)&gt;&gt;
## Non-/sparse entries: 43231/38675204
## Sparsity           : 100%
## Maximal term length: 40
## Weighting          : term frequency (tf)</code></pre>
<pre class="r"><code>sms_dtm3</code></pre>
<pre><code>## &lt;&lt;DocumentTermMatrix (documents: 5559, terms: 6576)&gt;&gt;
## Non-/sparse entries: 42173/36513811
## Sparsity           : 100%
## Maximal term length: 40
## Weighting          : term frequency (tf)</code></pre>
<pre class="r"><code># creating training and test datasets
sms_dtm_train &lt;- sms_dtm[1:4169, ]
sms_dtm_test  &lt;- sms_dtm[4170:5559, ]

# also save the labels
sms_train_labels &lt;- sms_raw[1:4169, ]$type
sms_test_labels  &lt;- sms_raw[4170:5559, ]$type

# check that the proportion of spam is similar
prop.table(table(sms_train_labels))</code></pre>
<pre><code>## sms_train_labels
##       ham      spam 
## 0.8647158 0.1352842</code></pre>
<pre class="r"><code>prop.table(table(sms_test_labels))</code></pre>
<pre><code>## sms_test_labels
##       ham      spam 
## 0.8683453 0.1316547</code></pre>
<pre class="r"><code># word cloud visualization
library(wordcloud)</code></pre>
<pre><code>## Loading required package: methods</code></pre>
<pre><code>## Loading required package: RColorBrewer</code></pre>
<pre class="r"><code>wordcloud(sms_corpus_clean, min.freq = 50, random.order = FALSE)</code></pre>
<p><img src="/post/2017-07-01-spam-filter_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<pre class="r"><code># subset the training data into spam and ham groups
spam &lt;- subset(sms_raw, type == &quot;spam&quot;)
ham  &lt;- subset(sms_raw, type == &quot;ham&quot;)

wordcloud(spam$text, max.words = 40, scale = c(3, 0.5))</code></pre>
<p><img src="/post/2017-07-01-spam-filter_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<pre class="r"><code>wordcloud(ham$text, max.words = 40, scale = c(3, 0.5))</code></pre>
<p><img src="/post/2017-07-01-spam-filter_files/figure-html/unnamed-chunk-12-2.png" width="672" /></p>
<pre class="r"><code>sms_dtm_freq_train &lt;- removeSparseTerms(sms_dtm_train, 0.999)
sms_dtm_freq_train</code></pre>
<pre><code>## &lt;&lt;DocumentTermMatrix (documents: 4169, terms: 1104)&gt;&gt;
## Non-/sparse entries: 24827/4577749
## Sparsity           : 99%
## Maximal term length: 19
## Weighting          : term frequency (tf)</code></pre>
<pre class="r"><code># indicator features for frequent words
findFreqTerms(sms_dtm_train, 5)</code></pre>
<pre><code>##    [1] &quot;ââ&quot;               &quot;abiola&quot;              &quot;abl&quot;                
##    [4] &quot;abt&quot;                 &quot;accept&quot;              &quot;access&quot;             
##    [7] &quot;account&quot;             &quot;across&quot;              &quot;act&quot;                
##   [10] &quot;activ&quot;               &quot;actual&quot;              &quot;add&quot;                
##   [13] &quot;address&quot;             &quot;admir&quot;               &quot;adult&quot;              
##   [16] &quot;advanc&quot;              &quot;aft&quot;                 &quot;afternoon&quot;          
##   [19] &quot;age&quot;                 &quot;ago&quot;                 &quot;aha&quot;                
##   [22] &quot;ahead&quot;               &quot;aight&quot;               &quot;aint&quot;               
##   [25] &quot;air&quot;                 &quot;aiyo&quot;                &quot;alex&quot;               
##   [28] &quot;almost&quot;              &quot;alon&quot;                &quot;alreadi&quot;            
##   [31] &quot;alright&quot;             &quot;also&quot;                &quot;alway&quot;              
##   [34] &quot;angri&quot;               &quot;announc&quot;             &quot;anoth&quot;              
##   [37] &quot;answer&quot;              &quot;anymor&quot;              &quot;anyon&quot;              
##   [40] &quot;anyth&quot;               &quot;anytim&quot;              &quot;anyway&quot;             
##   [43] &quot;apart&quot;               &quot;app&quot;                 &quot;appli&quot;              
##   [46] &quot;appreci&quot;             &quot;arcad&quot;               &quot;ard&quot;                
##   [49] &quot;area&quot;                &quot;argu&quot;                &quot;argument&quot;           
##   [52] &quot;armand&quot;              &quot;around&quot;              &quot;arrang&quot;             
##   [55] &quot;arriv&quot;               &quot;asap&quot;                &quot;ask&quot;                
##   [58] &quot;askd&quot;                &quot;attempt&quot;             &quot;auction&quot;            
##   [61] &quot;avail&quot;               &quot;ave&quot;                 &quot;avoid&quot;              
##   [64] &quot;await&quot;               &quot;awak&quot;                &quot;award&quot;              
##   [67] &quot;away&quot;                &quot;awesom&quot;              &quot;âwk&quot;                
##   [70] &quot;babe&quot;                &quot;babi&quot;                &quot;back&quot;               
##   [73] &quot;bad&quot;                 &quot;bag&quot;                 &quot;bank&quot;               
##   [76] &quot;bare&quot;                &quot;basic&quot;               &quot;bath&quot;               
##   [79] &quot;batteri&quot;             &quot;bcoz&quot;                &quot;bday&quot;               
##   [82] &quot;beauti&quot;              &quot;becom&quot;               &quot;bed&quot;                
##   [85] &quot;bedroom&quot;             &quot;beer&quot;                &quot;begin&quot;              
##   [88] &quot;believ&quot;              &quot;best&quot;                &quot;better&quot;             
##   [91] &quot;bid&quot;                 &quot;big&quot;                 &quot;bill&quot;               
##   [94] &quot;bird&quot;                &quot;birthday&quot;            &quot;bit&quot;                
##   [97] &quot;black&quot;               &quot;blank&quot;               &quot;bless&quot;              
##  [100] &quot;blue&quot;                &quot;bluetooth&quot;           &quot;bold&quot;               
##  [103] &quot;bonus&quot;               &quot;boo&quot;                 &quot;book&quot;               
##  [106] &quot;boost&quot;               &quot;bore&quot;                &quot;boss&quot;               
##  [109] &quot;bother&quot;              &quot;bout&quot;                &quot;box&quot;                
##  [112] &quot;boy&quot;                 &quot;boytoy&quot;              &quot;break&quot;              
##  [115] &quot;breath&quot;              &quot;bring&quot;               &quot;brother&quot;            
##  [118] &quot;bslvyl&quot;              &quot;btnationalr&quot;         &quot;buck&quot;               
##  [121] &quot;bus&quot;                 &quot;busi&quot;                &quot;buy&quot;                
##  [124] &quot;cabin&quot;               &quot;call&quot;                &quot;caller&quot;             
##  [127] &quot;callertun&quot;           &quot;camcord&quot;             &quot;came&quot;               
##  [130] &quot;camera&quot;              &quot;campus&quot;              &quot;can&quot;                
##  [133] &quot;cancel&quot;              &quot;cancer&quot;              &quot;cant&quot;               
##  [136] &quot;car&quot;                 &quot;card&quot;                &quot;care&quot;               
##  [139] &quot;carlo&quot;               &quot;case&quot;                &quot;cash&quot;               
##  [142] &quot;cashbal&quot;             &quot;catch&quot;               &quot;caus&quot;               
##  [145] &quot;celebr&quot;              &quot;cell&quot;                &quot;centr&quot;              
##  [148] &quot;chanc&quot;               &quot;chang&quot;               &quot;charg&quot;              
##  [151] &quot;chat&quot;                &quot;cheap&quot;               &quot;cheaper&quot;            
##  [154] &quot;check&quot;               &quot;cheer&quot;               &quot;chennai&quot;            
##  [157] &quot;chikku&quot;              &quot;childish&quot;            &quot;children&quot;           
##  [160] &quot;choic&quot;               &quot;choos&quot;               &quot;christma&quot;           
##  [163] &quot;claim&quot;               &quot;class&quot;               &quot;clean&quot;              
##  [166] &quot;clear&quot;               &quot;close&quot;               &quot;club&quot;               
##  [169] &quot;code&quot;                &quot;coffe&quot;               &quot;cold&quot;               
##  [172] &quot;colleagu&quot;            &quot;collect&quot;             &quot;colleg&quot;             
##  [175] &quot;colour&quot;              &quot;come&quot;                &quot;comin&quot;              
##  [178] &quot;comp&quot;                &quot;compani&quot;             &quot;competit&quot;           
##  [181] &quot;complet&quot;             &quot;complimentari&quot;       &quot;comput&quot;             
##  [184] &quot;condit&quot;              &quot;confirm&quot;             &quot;congrat&quot;            
##  [187] &quot;congratul&quot;           &quot;connect&quot;             &quot;contact&quot;            
##  [190] &quot;content&quot;             &quot;contract&quot;            &quot;cook&quot;               
##  [193] &quot;cool&quot;                &quot;copi&quot;                &quot;correct&quot;            
##  [196] &quot;cos&quot;                 &quot;cost&quot;                &quot;costa&quot;              
##  [199] &quot;costâpm&quot;             &quot;coupl&quot;               &quot;cours&quot;              
##  [202] &quot;cover&quot;               &quot;coz&quot;                 &quot;crave&quot;              
##  [205] &quot;crazi&quot;               &quot;creat&quot;               &quot;credit&quot;             
##  [208] &quot;cri&quot;                 &quot;cross&quot;               &quot;cuddl&quot;              
##  [211] &quot;cum&quot;                 &quot;cup&quot;                 &quot;current&quot;            
##  [214] &quot;custcar&quot;             &quot;custom&quot;              &quot;cut&quot;                
##  [217] &quot;cute&quot;                &quot;cuz&quot;                 &quot;dad&quot;                
##  [220] &quot;daddi&quot;               &quot;darl&quot;                &quot;darlin&quot;             
##  [223] &quot;darren&quot;              &quot;dat&quot;                 &quot;date&quot;               
##  [226] &quot;day&quot;                 &quot;dead&quot;                &quot;deal&quot;               
##  [229] &quot;dear&quot;                &quot;decid&quot;               &quot;decim&quot;              
##  [232] &quot;decis&quot;               &quot;deep&quot;                &quot;definit&quot;            
##  [235] &quot;del&quot;                 &quot;deliv&quot;               &quot;deliveri&quot;           
##  [238] &quot;den&quot;                 &quot;depend&quot;              &quot;detail&quot;             
##  [241] &quot;didnt&quot;               &quot;die&quot;                 &quot;diet&quot;               
##  [244] &quot;differ&quot;              &quot;difficult&quot;           &quot;digit&quot;              
##  [247] &quot;din&quot;                 &quot;dinner&quot;              &quot;direct&quot;             
##  [250] &quot;dis&quot;                 &quot;discount&quot;            &quot;discuss&quot;            
##  [253] &quot;disturb&quot;             &quot;dnt&quot;                 &quot;doc&quot;                
##  [256] &quot;doctor&quot;              &quot;doesnt&quot;              &quot;dog&quot;                
##  [259] &quot;doin&quot;                &quot;don&quot;                 &quot;done&quot;               
##  [262] &quot;dont&quot;                &quot;door&quot;                &quot;doubl&quot;              
##  [265] &quot;download&quot;            &quot;draw&quot;                &quot;dream&quot;              
##  [268] &quot;drink&quot;               &quot;drive&quot;               &quot;drop&quot;               
##  [271] &quot;drug&quot;                &quot;dude&quot;                &quot;due&quot;                
##  [274] &quot;dun&quot;                 &quot;dunno&quot;               &quot;dvd&quot;                
##  [277] &quot;earli&quot;               &quot;earlier&quot;             &quot;earth&quot;              
##  [280] &quot;easi&quot;                &quot;eat&quot;                 &quot;eatin&quot;              
##  [283] &quot;egg&quot;                 &quot;either&quot;              &quot;els&quot;                
##  [286] &quot;email&quot;               &quot;embarass&quot;            &quot;end&quot;                
##  [289] &quot;energi&quot;              &quot;england&quot;             &quot;enjoy&quot;              
##  [292] &quot;enough&quot;              &quot;enter&quot;               &quot;entitl&quot;             
##  [295] &quot;entri&quot;               &quot;envelop&quot;             &quot;etc&quot;                
##  [298] &quot;euro&quot;                &quot;eve&quot;                 &quot;even&quot;               
##  [301] &quot;ever&quot;                &quot;everi&quot;               &quot;everybodi&quot;          
##  [304] &quot;everyon&quot;             &quot;everyth&quot;             &quot;exact&quot;              
##  [307] &quot;exam&quot;                &quot;excel&quot;               &quot;excit&quot;              
##  [310] &quot;excus&quot;               &quot;expect&quot;              &quot;experi&quot;             
##  [313] &quot;expir&quot;               &quot;extra&quot;               &quot;eye&quot;                
##  [316] &quot;face&quot;                &quot;facebook&quot;            &quot;fact&quot;               
##  [319] &quot;fall&quot;                &quot;famili&quot;              &quot;fanci&quot;              
##  [322] &quot;fantasi&quot;             &quot;fantast&quot;             &quot;far&quot;                
##  [325] &quot;fast&quot;                &quot;fat&quot;                 &quot;father&quot;             
##  [328] &quot;fault&quot;               &quot;feb&quot;                 &quot;feel&quot;               
##  [331] &quot;felt&quot;                &quot;fetch&quot;               &quot;fight&quot;              
##  [334] &quot;figur&quot;               &quot;file&quot;                &quot;fill&quot;               
##  [337] &quot;film&quot;                &quot;final&quot;               &quot;find&quot;               
##  [340] &quot;fine&quot;                &quot;finger&quot;              &quot;finish&quot;             
##  [343] &quot;first&quot;               &quot;fix&quot;                 &quot;flag&quot;               
##  [346] &quot;flat&quot;                &quot;flight&quot;              &quot;flower&quot;             
##  [349] &quot;follow&quot;              &quot;fone&quot;                &quot;food&quot;               
##  [352] &quot;forev&quot;               &quot;forget&quot;              &quot;forgot&quot;             
##  [355] &quot;forward&quot;             &quot;found&quot;               &quot;freak&quot;              
##  [358] &quot;free&quot;                &quot;freemsg&quot;             &quot;freephon&quot;           
##  [361] &quot;fren&quot;                &quot;fri&quot;                 &quot;friday&quot;             
##  [364] &quot;friend&quot;              &quot;friendship&quot;          &quot;frm&quot;                
##  [367] &quot;frnd&quot;                &quot;frnds&quot;               &quot;full&quot;               
##  [370] &quot;fullonsmscom&quot;        &quot;fun&quot;                 &quot;funni&quot;              
##  [373] &quot;futur&quot;               &quot;gal&quot;                 &quot;game&quot;               
##  [376] &quot;gap&quot;                 &quot;gas&quot;                 &quot;gave&quot;               
##  [379] &quot;gay&quot;                 &quot;gentl&quot;               &quot;get&quot;                
##  [382] &quot;gettin&quot;              &quot;gift&quot;                &quot;girl&quot;               
##  [385] &quot;girlfrnd&quot;            &quot;give&quot;                &quot;glad&quot;               
##  [388] &quot;god&quot;                 &quot;goe&quot;                 &quot;goin&quot;               
##  [391] &quot;gone&quot;                &quot;gonna&quot;               &quot;good&quot;               
##  [394] &quot;goodmorn&quot;            &quot;goodnight&quot;           &quot;got&quot;                
##  [397] &quot;goto&quot;                &quot;gotta&quot;               &quot;great&quot;              
##  [400] &quot;grin&quot;                &quot;guarante&quot;            &quot;gud&quot;                
##  [403] &quot;guess&quot;               &quot;guy&quot;                 &quot;gym&quot;                
##  [406] &quot;haf&quot;                 &quot;haha&quot;                &quot;hai&quot;                
##  [409] &quot;hair&quot;                &quot;half&quot;                &quot;hand&quot;               
##  [412] &quot;handset&quot;             &quot;hang&quot;                &quot;happen&quot;             
##  [415] &quot;happi&quot;               &quot;hard&quot;                &quot;hate&quot;               
##  [418] &quot;hav&quot;                 &quot;havent&quot;              &quot;head&quot;               
##  [421] &quot;hear&quot;                &quot;heard&quot;               &quot;heart&quot;              
##  [424] &quot;heavi&quot;               &quot;hee&quot;                 &quot;hell&quot;               
##  [427] &quot;hello&quot;               &quot;help&quot;                &quot;hey&quot;                
##  [430] &quot;hgsuiteland&quot;         &quot;hit&quot;                 &quot;hiya&quot;               
##  [433] &quot;hmm&quot;                 &quot;hmmm&quot;                &quot;hmv&quot;                
##  [436] &quot;hol&quot;                 &quot;hold&quot;                &quot;holder&quot;             
##  [439] &quot;holiday&quot;             &quot;home&quot;                &quot;hook&quot;               
##  [442] &quot;hop&quot;                 &quot;hope&quot;                &quot;horni&quot;              
##  [445] &quot;hospit&quot;              &quot;hot&quot;                 &quot;hotel&quot;              
##  [448] &quot;hour&quot;                &quot;hous&quot;                &quot;how&quot;                
##  [451] &quot;howev&quot;               &quot;howz&quot;                &quot;hrs&quot;                
##  [454] &quot;httpwwwurawinnercom&quot; &quot;hug&quot;                 &quot;huh&quot;                
##  [457] &quot;hungri&quot;              &quot;hurri&quot;               &quot;hurt&quot;               
##  [460] &quot;iâëm&quot;              &quot;ice&quot;                 &quot;idea&quot;               
##  [463] &quot;identifi&quot;            &quot;ignor&quot;               &quot;ill&quot;                
##  [466] &quot;immedi&quot;              &quot;import&quot;              &quot;inc&quot;                
##  [469] &quot;includ&quot;              &quot;india&quot;               &quot;info&quot;               
##  [472] &quot;inform&quot;              &quot;insid&quot;               &quot;instead&quot;            
##  [475] &quot;interest&quot;            &quot;invit&quot;               &quot;ipod&quot;               
##  [478] &quot;irrit&quot;               &quot;ish&quot;                 &quot;island&quot;             
##  [481] &quot;issu&quot;                &quot;ive&quot;                 &quot;izzit&quot;              
##  [484] &quot;januari&quot;             &quot;jay&quot;                 &quot;job&quot;                
##  [487] &quot;john&quot;                &quot;join&quot;                &quot;joke&quot;               
##  [490] &quot;joy&quot;                 &quot;jst&quot;                 &quot;jus&quot;                
##  [493] &quot;just&quot;                &quot;juz&quot;                 &quot;kate&quot;               
##  [496] &quot;keep&quot;                &quot;kept&quot;                &quot;kick&quot;               
##  [499] &quot;kid&quot;                 &quot;kill&quot;                &quot;kind&quot;               
##  [502] &quot;kinda&quot;               &quot;king&quot;                &quot;kiss&quot;               
##  [505] &quot;knew&quot;                &quot;know&quot;                &quot;knw&quot;                
##  [508] &quot;ladi&quot;                &quot;land&quot;                &quot;landlin&quot;            
##  [511] &quot;laptop&quot;              &quot;lar&quot;                 &quot;last&quot;               
##  [514] &quot;late&quot;                &quot;later&quot;               &quot;latest&quot;             
##  [517] &quot;laugh&quot;               &quot;lazi&quot;                &quot;ldn&quot;                
##  [520] &quot;lead&quot;                &quot;learn&quot;               &quot;least&quot;              
##  [523] &quot;leav&quot;                &quot;lect&quot;                &quot;left&quot;               
##  [526] &quot;leh&quot;                 &quot;lei&quot;                 &quot;less&quot;               
##  [529] &quot;lesson&quot;              &quot;let&quot;                 &quot;letter&quot;             
##  [532] &quot;liao&quot;                &quot;librari&quot;             &quot;lie&quot;                
##  [535] &quot;life&quot;                &quot;lift&quot;                &quot;light&quot;              
##  [538] &quot;like&quot;                &quot;line&quot;                &quot;link&quot;               
##  [541] &quot;list&quot;                &quot;listen&quot;              &quot;littl&quot;              
##  [544] &quot;live&quot;                &quot;lmao&quot;                &quot;load&quot;               
##  [547] &quot;loan&quot;                &quot;local&quot;               &quot;locat&quot;              
##  [550] &quot;log&quot;                 &quot;lol&quot;                 &quot;london&quot;             
##  [553] &quot;long&quot;                &quot;longer&quot;              &quot;look&quot;               
##  [556] &quot;lookin&quot;              &quot;lor&quot;                 &quot;lose&quot;               
##  [559] &quot;lost&quot;                &quot;lot&quot;                 &quot;lovabl&quot;             
##  [562] &quot;love&quot;                &quot;lover&quot;               &quot;loyalti&quot;            
##  [565] &quot;ltd&quot;                 &quot;luck&quot;                &quot;lucki&quot;              
##  [568] &quot;lunch&quot;               &quot;luv&quot;                 &quot;mad&quot;                
##  [571] &quot;made&quot;                &quot;mah&quot;                 &quot;mail&quot;               
##  [574] &quot;make&quot;                &quot;malaria&quot;             &quot;man&quot;                
##  [577] &quot;mani&quot;                &quot;march&quot;               &quot;mark&quot;               
##  [580] &quot;marri&quot;               &quot;match&quot;               &quot;mate&quot;               
##  [583] &quot;matter&quot;              &quot;maxim&quot;               &quot;maxmin&quot;             
##  [586] &quot;may&quot;                 &quot;mayb&quot;                &quot;meal&quot;               
##  [589] &quot;mean&quot;                &quot;meant&quot;               &quot;med&quot;                
##  [592] &quot;medic&quot;               &quot;meet&quot;                &quot;meetin&quot;             
##  [595] &quot;meh&quot;                 &quot;member&quot;              &quot;men&quot;                
##  [598] &quot;merri&quot;               &quot;messag&quot;              &quot;met&quot;                
##  [601] &quot;mid&quot;                 &quot;midnight&quot;            &quot;might&quot;              
##  [604] &quot;min&quot;                 &quot;mind&quot;                &quot;mine&quot;               
##  [607] &quot;minut&quot;               &quot;miracl&quot;              &quot;miss&quot;               
##  [610] &quot;mistak&quot;              &quot;moan&quot;                &quot;mob&quot;                
##  [613] &quot;mobil&quot;               &quot;mobileupd&quot;           &quot;mode&quot;               
##  [616] &quot;mom&quot;                 &quot;moment&quot;              &quot;mon&quot;                
##  [619] &quot;monday&quot;              &quot;money&quot;               &quot;month&quot;              
##  [622] &quot;morn&quot;                &quot;mother&quot;              &quot;motorola&quot;           
##  [625] &quot;move&quot;                &quot;movi&quot;                &quot;mrng&quot;               
##  [628] &quot;mrt&quot;                 &quot;mrw&quot;                 &quot;msg&quot;                
##  [631] &quot;msgs&quot;                &quot;mths&quot;                &quot;much&quot;               
##  [634] &quot;mum&quot;                 &quot;murder&quot;              &quot;music&quot;              
##  [637] &quot;must&quot;                &quot;muz&quot;                 &quot;nah&quot;                
##  [640] &quot;nake&quot;                &quot;name&quot;                &quot;nation&quot;             
##  [643] &quot;natur&quot;               &quot;naughti&quot;             &quot;near&quot;               
##  [646] &quot;need&quot;                &quot;net&quot;                 &quot;network&quot;            
##  [649] &quot;neva&quot;                &quot;never&quot;               &quot;new&quot;                
##  [652] &quot;news&quot;                &quot;next&quot;                &quot;nice&quot;               
##  [655] &quot;nigeria&quot;             &quot;night&quot;               &quot;nite&quot;               
##  [658] &quot;nobodi&quot;              &quot;noe&quot;                 &quot;nokia&quot;              
##  [661] &quot;noon&quot;                &quot;nope&quot;                &quot;normal&quot;             
##  [664] &quot;normpton&quot;            &quot;noth&quot;                &quot;notic&quot;              
##  [667] &quot;now&quot;                 &quot;num&quot;                 &quot;number&quot;             
##  [670] &quot;nyt&quot;                 &quot;obvious&quot;             &quot;offer&quot;              
##  [673] &quot;offic&quot;               &quot;offici&quot;              &quot;okay&quot;               
##  [676] &quot;oki&quot;                 &quot;old&quot;                 &quot;omg&quot;                
##  [679] &quot;one&quot;                 &quot;onlin&quot;               &quot;onto&quot;               
##  [682] &quot;oop&quot;                 &quot;open&quot;                &quot;oper&quot;               
##  [685] &quot;opinion&quot;             &quot;opt&quot;                 &quot;optout&quot;             
##  [688] &quot;orang&quot;               &quot;orchard&quot;             &quot;order&quot;              
##  [691] &quot;oredi&quot;               &quot;oso&quot;                 &quot;other&quot;              
##  [694] &quot;otherwis&quot;            &quot;outsid&quot;              &quot;pack&quot;               
##  [697] &quot;page&quot;                &quot;paid&quot;                &quot;pain&quot;               
##  [700] &quot;paper&quot;               &quot;parent&quot;              &quot;park&quot;               
##  [703] &quot;part&quot;                &quot;parti&quot;               &quot;partner&quot;            
##  [706] &quot;pass&quot;                &quot;passion&quot;             &quot;password&quot;           
##  [709] &quot;past&quot;                &quot;pay&quot;                 &quot;peopl&quot;              
##  [712] &quot;per&quot;                 &quot;person&quot;              &quot;pete&quot;               
##  [715] &quot;phone&quot;               &quot;photo&quot;               &quot;pic&quot;                
##  [718] &quot;pick&quot;                &quot;pictur&quot;              &quot;pin&quot;                
##  [721] &quot;piss&quot;                &quot;pix&quot;                 &quot;pizza&quot;              
##  [724] &quot;place&quot;               &quot;plan&quot;                &quot;play&quot;               
##  [727] &quot;player&quot;              &quot;pleas&quot;               &quot;pleasur&quot;            
##  [730] &quot;plenti&quot;              &quot;pls&quot;                 &quot;plus&quot;               
##  [733] &quot;plz&quot;                 &quot;pmin&quot;                &quot;pmsg&quot;               
##  [736] &quot;pobox&quot;               &quot;point&quot;               &quot;poli&quot;               
##  [739] &quot;polic&quot;               &quot;poor&quot;                &quot;pop&quot;                
##  [742] &quot;possess&quot;             &quot;possibl&quot;             &quot;post&quot;               
##  [745] &quot;pound&quot;               &quot;power&quot;               &quot;ppm&quot;                
##  [748] &quot;pray&quot;                &quot;present&quot;             &quot;press&quot;              
##  [751] &quot;pretti&quot;              &quot;previous&quot;            &quot;price&quot;              
##  [754] &quot;princess&quot;            &quot;privat&quot;              &quot;prize&quot;              
##  [757] &quot;prob&quot;                &quot;probabl&quot;             &quot;problem&quot;            
##  [760] &quot;project&quot;             &quot;promis&quot;              &quot;pub&quot;                
##  [763] &quot;put&quot;                 &quot;qualiti&quot;             &quot;question&quot;           
##  [766] &quot;quick&quot;               &quot;quit&quot;                &quot;quiz&quot;               
##  [769] &quot;quot&quot;                &quot;rain&quot;                &quot;random&quot;             
##  [772] &quot;rang&quot;                &quot;rate&quot;                &quot;rather&quot;             
##  [775] &quot;rcvd&quot;                &quot;reach&quot;               &quot;read&quot;               
##  [778] &quot;readi&quot;               &quot;real&quot;                &quot;reali&quot;              
##  [781] &quot;realli&quot;              &quot;reason&quot;              &quot;receipt&quot;            
##  [784] &quot;receiv&quot;              &quot;recent&quot;              &quot;record&quot;             
##  [787] &quot;refer&quot;               &quot;regard&quot;              &quot;regist&quot;             
##  [790] &quot;relat&quot;               &quot;relax&quot;               &quot;remain&quot;             
##  [793] &quot;rememb&quot;              &quot;remind&quot;              &quot;remov&quot;              
##  [796] &quot;rent&quot;                &quot;rental&quot;              &quot;repli&quot;              
##  [799] &quot;repres&quot;              &quot;request&quot;             &quot;respond&quot;            
##  [802] &quot;respons&quot;             &quot;rest&quot;                &quot;result&quot;             
##  [805] &quot;return&quot;              &quot;reveal&quot;              &quot;review&quot;             
##  [808] &quot;reward&quot;              &quot;right&quot;               &quot;ring&quot;               
##  [811] &quot;rington&quot;             &quot;rite&quot;                &quot;road&quot;               
##  [814] &quot;rock&quot;                &quot;role&quot;                &quot;room&quot;               
##  [817] &quot;roommat&quot;             &quot;rose&quot;                &quot;round&quot;              
##  [820] &quot;rowwjhl&quot;             &quot;rpli&quot;                &quot;rreveal&quot;            
##  [823] &quot;run&quot;                 &quot;rush&quot;                &quot;sad&quot;                
##  [826] &quot;sae&quot;                 &quot;safe&quot;                &quot;said&quot;               
##  [829] &quot;sale&quot;                &quot;sat&quot;                 &quot;saturday&quot;           
##  [832] &quot;savamob&quot;             &quot;save&quot;                &quot;saw&quot;                
##  [835] &quot;say&quot;                 &quot;sch&quot;                 &quot;school&quot;             
##  [838] &quot;scream&quot;              &quot;sea&quot;                 &quot;search&quot;             
##  [841] &quot;sec&quot;                 &quot;second&quot;              &quot;secret&quot;             
##  [844] &quot;see&quot;                 &quot;seem&quot;                &quot;seen&quot;               
##  [847] &quot;select&quot;              &quot;self&quot;                &quot;sell&quot;               
##  [850] &quot;semest&quot;              &quot;send&quot;                &quot;sens&quot;               
##  [853] &quot;sent&quot;                &quot;serious&quot;             &quot;servic&quot;             
##  [856] &quot;set&quot;                 &quot;settl&quot;               &quot;sex&quot;                
##  [859] &quot;sexi&quot;                &quot;shall&quot;               &quot;share&quot;              
##  [862] &quot;shd&quot;                 &quot;ship&quot;                &quot;shirt&quot;              
##  [865] &quot;shop&quot;                &quot;short&quot;               &quot;show&quot;               
##  [868] &quot;shower&quot;              &quot;sick&quot;                &quot;side&quot;               
##  [871] &quot;sigh&quot;                &quot;sight&quot;               &quot;sign&quot;               
##  [874] &quot;silent&quot;              &quot;simpl&quot;               &quot;sinc&quot;               
##  [877] &quot;singl&quot;               &quot;sipix&quot;               &quot;sir&quot;                
##  [880] &quot;sis&quot;                 &quot;sister&quot;              &quot;sit&quot;                
##  [883] &quot;situat&quot;              &quot;skxh&quot;                &quot;skype&quot;              
##  [886] &quot;slave&quot;               &quot;sleep&quot;               &quot;slept&quot;              
##  [889] &quot;slow&quot;                &quot;slowli&quot;              &quot;small&quot;              
##  [892] &quot;smile&quot;               &quot;smoke&quot;               &quot;sms&quot;                
##  [895] &quot;smth&quot;                &quot;snow&quot;                &quot;sofa&quot;               
##  [898] &quot;sol&quot;                 &quot;somebodi&quot;            &quot;someon&quot;             
##  [901] &quot;someth&quot;              &quot;sometim&quot;             &quot;somewher&quot;           
##  [904] &quot;song&quot;                &quot;soni&quot;                &quot;sonyericsson&quot;       
##  [907] &quot;soon&quot;                &quot;sorri&quot;               &quot;sort&quot;               
##  [910] &quot;sound&quot;               &quot;south&quot;               &quot;space&quot;              
##  [913] &quot;speak&quot;               &quot;special&quot;             &quot;specialcal&quot;         
##  [916] &quot;spend&quot;               &quot;spent&quot;               &quot;spoke&quot;              
##  [919] &quot;spree&quot;               &quot;stand&quot;               &quot;start&quot;              
##  [922] &quot;statement&quot;           &quot;station&quot;             &quot;stay&quot;               
##  [925] &quot;std&quot;                 &quot;step&quot;                &quot;still&quot;              
##  [928] &quot;stockport&quot;           &quot;stone&quot;               &quot;stop&quot;               
##  [931] &quot;store&quot;               &quot;stori&quot;               &quot;street&quot;             
##  [934] &quot;student&quot;             &quot;studi&quot;               &quot;stuff&quot;              
##  [937] &quot;stupid&quot;              &quot;style&quot;               &quot;sub&quot;                
##  [940] &quot;subscrib&quot;            &quot;success&quot;             &quot;suck&quot;               
##  [943] &quot;suit&quot;                &quot;summer&quot;              &quot;sun&quot;                
##  [946] &quot;sunday&quot;              &quot;sunshin&quot;             &quot;sup&quot;                
##  [949] &quot;support&quot;             &quot;suppos&quot;              &quot;sure&quot;               
##  [952] &quot;surf&quot;                &quot;surpris&quot;             &quot;sweet&quot;              
##  [955] &quot;swing&quot;               &quot;system&quot;              &quot;take&quot;               
##  [958] &quot;talk&quot;                &quot;tampa&quot;               &quot;tariff&quot;             
##  [961] &quot;tcs&quot;                 &quot;tea&quot;                 &quot;teach&quot;              
##  [964] &quot;tear&quot;                &quot;teas&quot;                &quot;tel&quot;                
##  [967] &quot;tell&quot;                &quot;ten&quot;                 &quot;tenerif&quot;            
##  [970] &quot;term&quot;                &quot;test&quot;                &quot;text&quot;               
##  [973] &quot;thank&quot;               &quot;thanx&quot;               &quot;that&quot;               
##  [976] &quot;thing&quot;               &quot;think&quot;               &quot;thinkin&quot;            
##  [979] &quot;thk&quot;                 &quot;tho&quot;                 &quot;though&quot;             
##  [982] &quot;thought&quot;             &quot;throw&quot;               &quot;thru&quot;               
##  [985] &quot;tht&quot;                 &quot;thur&quot;                &quot;tick&quot;               
##  [988] &quot;ticket&quot;              &quot;til&quot;                 &quot;till&quot;               
##  [991] &quot;time&quot;                &quot;tire&quot;                &quot;titl&quot;               
##  [994] &quot;tmr&quot;                 &quot;toclaim&quot;             &quot;today&quot;              
##  [997] &quot;togeth&quot;              &quot;told&quot;                &quot;tomo&quot;               
## [1000] &quot;tomorrow&quot;            &quot;tone&quot;                &quot;tonight&quot;            
## [1003] &quot;tonit&quot;               &quot;took&quot;                &quot;top&quot;                
## [1006] &quot;torch&quot;               &quot;tot&quot;                 &quot;total&quot;              
## [1009] &quot;touch&quot;               &quot;tough&quot;               &quot;tour&quot;               
## [1012] &quot;toward&quot;              &quot;town&quot;                &quot;track&quot;              
## [1015] &quot;train&quot;               &quot;transact&quot;            &quot;travel&quot;             
## [1018] &quot;treat&quot;               &quot;tri&quot;                 &quot;trip&quot;               
## [1021] &quot;troubl&quot;              &quot;true&quot;                &quot;trust&quot;              
## [1024] &quot;truth&quot;               &quot;tscs&quot;                &quot;ttyl&quot;               
## [1027] &quot;tuesday&quot;             &quot;turn&quot;                &quot;twice&quot;              
## [1030] &quot;two&quot;                 &quot;txt&quot;                 &quot;txting&quot;             
## [1033] &quot;txts&quot;                &quot;type&quot;                &quot;ufind&quot;              
## [1036] &quot;ugh&quot;                 &quot;ull&quot;                 &quot;uncl&quot;               
## [1039] &quot;understand&quot;          &quot;unless&quot;              &quot;unlimit&quot;            
## [1042] &quot;unredeem&quot;            &quot;unsub&quot;               &quot;unsubscrib&quot;         
## [1045] &quot;updat&quot;               &quot;ure&quot;                 &quot;urgent&quot;             
## [1048] &quot;urself&quot;              &quot;use&quot;                 &quot;user&quot;               
## [1051] &quot;usf&quot;                 &quot;usual&quot;               &quot;uve&quot;                
## [1054] &quot;valentin&quot;            &quot;valid&quot;               &quot;valu&quot;               
## [1057] &quot;via&quot;                 &quot;video&quot;               &quot;vikki&quot;              
## [1060] &quot;visit&quot;               &quot;vodafon&quot;             &quot;voic&quot;               
## [1063] &quot;vomit&quot;               &quot;voucher&quot;             &quot;wait&quot;               
## [1066] &quot;wake&quot;                &quot;walk&quot;                &quot;wan&quot;                
## [1069] &quot;wana&quot;                &quot;wanna&quot;               &quot;want&quot;               
## [1072] &quot;wap&quot;                 &quot;warm&quot;                &quot;wast&quot;               
## [1075] &quot;wat&quot;                 &quot;watch&quot;               &quot;water&quot;              
## [1078] &quot;way&quot;                 &quot;weak&quot;                &quot;wear&quot;               
## [1081] &quot;weather&quot;             &quot;wed&quot;                 &quot;wednesday&quot;          
## [1084] &quot;weed&quot;                &quot;week&quot;                &quot;weekend&quot;            
## [1087] &quot;welcom&quot;              &quot;well&quot;                &quot;wen&quot;                
## [1090] &quot;went&quot;                &quot;what&quot;                &quot;whatev&quot;             
## [1093] &quot;whenev&quot;              &quot;whole&quot;               &quot;wid&quot;                
## [1096] &quot;wif&quot;                 &quot;wife&quot;                &quot;wil&quot;                
## [1099] &quot;will&quot;                &quot;win&quot;                 &quot;wine&quot;               
## [1102] &quot;winner&quot;              &quot;wish&quot;                &quot;wit&quot;                
## [1105] &quot;within&quot;              &quot;without&quot;             &quot;wiv&quot;                
## [1108] &quot;wkli&quot;                &quot;wks&quot;                 &quot;wnt&quot;                
## [1111] &quot;woke&quot;                &quot;won&quot;                 &quot;wonder&quot;             
## [1114] &quot;wont&quot;                &quot;word&quot;                &quot;work&quot;               
## [1117] &quot;workin&quot;              &quot;world&quot;               &quot;worri&quot;              
## [1120] &quot;wors&quot;                &quot;worth&quot;               &quot;wot&quot;                
## [1123] &quot;wow&quot;                 &quot;write&quot;               &quot;wrong&quot;              
## [1126] &quot;wwq&quot;                 &quot;wwwgetzedcouk&quot;       &quot;xmas&quot;               
## [1129] &quot;xxx&quot;                 &quot;yahoo&quot;               &quot;yar&quot;                
## [1132] &quot;yeah&quot;                &quot;year&quot;                &quot;yep&quot;                
## [1135] &quot;yes&quot;                 &quot;yesterday&quot;           &quot;yet&quot;                
## [1138] &quot;yoga&quot;                &quot;yup&quot;</code></pre>
<pre class="r"><code># save frequently-appearing terms to a character vector
sms_freq_words &lt;- findFreqTerms(sms_dtm_train, 5)
str(sms_freq_words)</code></pre>
<pre><code>##  chr [1:1139] &quot;ââ&quot;&quot;| __truncated__ &quot;abiola&quot; &quot;abl&quot; &quot;abt&quot; &quot;accept&quot; ...</code></pre>
<pre class="r"><code># create DTMs with only the frequent terms
sms_dtm_freq_train &lt;- sms_dtm_train[ , sms_freq_words]
sms_dtm_freq_test &lt;- sms_dtm_test[ , sms_freq_words]

# convert counts to a factor
convert_counts &lt;- function(x) {
  x &lt;- ifelse(x &gt; 0, &quot;Yes&quot;, &quot;No&quot;)
}

# apply() convert_counts() to columns of train/test data
sms_train &lt;- apply(sms_dtm_freq_train, MARGIN = 2, convert_counts)
sms_test  &lt;- apply(sms_dtm_freq_test, MARGIN = 2, convert_counts)</code></pre>
</div>
<div id="step-3-training-a-model-on-the-data--" class="section level2">
<h2>Step 3: Training a model on the data —-</h2>
<pre class="r"><code>library(e1071)
sms_classifier &lt;- naiveBayes(sms_train, sms_train_labels)</code></pre>
</div>
<div id="step-4-evaluating-model-performance--" class="section level2">
<h2>Step 4: Evaluating model performance —-</h2>
<pre class="r"><code>sms_test_pred &lt;- predict(sms_classifier, sms_test)

head(sms_test_pred)</code></pre>
<pre><code>## [1] ham  ham  ham  ham  spam ham 
## Levels: ham spam</code></pre>
<pre class="r"><code>library(gmodels)
CrossTable(sms_test_pred, sms_test_labels,
           prop.chisq = FALSE, prop.t = FALSE, prop.r = FALSE,
           dnn = c(&#39;predicted&#39;, &#39;actual&#39;))</code></pre>
<pre><code>## 
##  
##    Cell Contents
## |-------------------------|
## |                       N |
## |           N / Col Total |
## |-------------------------|
## 
##  
## Total Observations in Table:  1390 
## 
##  
##              | actual 
##    predicted |       ham |      spam | Row Total | 
## -------------|-----------|-----------|-----------|
##          ham |      1201 |        30 |      1231 | 
##              |     0.995 |     0.164 |           | 
## -------------|-----------|-----------|-----------|
##         spam |         6 |       153 |       159 | 
##              |     0.005 |     0.836 |           | 
## -------------|-----------|-----------|-----------|
## Column Total |      1207 |       183 |      1390 | 
##              |     0.868 |     0.132 |           | 
## -------------|-----------|-----------|-----------|
## 
## </code></pre>
</div>
<div id="step-5-improving-model-performance--" class="section level2">
<h2>Step 5: Improving model performance —-</h2>
<pre class="r"><code>sms_classifier2 &lt;- naiveBayes(sms_train, sms_train_labels, laplace = 1)
sms_test_pred2 &lt;- predict(sms_classifier2, sms_test)
CrossTable(sms_test_pred2, sms_test_labels,
           prop.chisq = FALSE, prop.t = FALSE, prop.r = FALSE,
           dnn = c(&#39;predicted&#39;, &#39;actual&#39;))</code></pre>
<pre><code>## 
##  
##    Cell Contents
## |-------------------------|
## |                       N |
## |           N / Col Total |
## |-------------------------|
## 
##  
## Total Observations in Table:  1390 
## 
##  
##              | actual 
##    predicted |       ham |      spam | Row Total | 
## -------------|-----------|-----------|-----------|
##          ham |      1202 |        28 |      1230 | 
##              |     0.996 |     0.153 |           | 
## -------------|-----------|-----------|-----------|
##         spam |         5 |       155 |       160 | 
##              |     0.004 |     0.847 |           | 
## -------------|-----------|-----------|-----------|
## Column Total |      1207 |       183 |      1390 | 
##              |     0.868 |     0.132 |           | 
## -------------|-----------|-----------|-----------|
## 
## </code></pre>
<p>Problem#2 Find an interesting dataset that is appropriate for applying the naive Bayes algorithm, try to load the data into R, and proceed to classify the data using naive Bayes. The HouseVotes84 data was used from the mlbench package.</p>
<pre class="r"><code>library (e1071)

## Naive Bayes Classifier for Discrete Predictors: we use again the Congressional Voting Records of 1984
# Note refusals to vote have been treated as missing values!

data (HouseVotes84, package=&quot;mlbench&quot;) 
model &lt;- naiveBayes(Class ~ ., data = HouseVotes84) 
head(HouseVotes84)</code></pre>
<pre><code>##        Class   V1 V2 V3   V4   V5 V6 V7 V8 V9 V10  V11  V12 V13 V14 V15
## 1 republican    n  y  n    y    y  y  n  n  n   y &lt;NA&gt;    y   y   y   n
## 2 republican    n  y  n    y    y  y  n  n  n   n    n    y   y   y   n
## 3   democrat &lt;NA&gt;  y  y &lt;NA&gt;    y  y  n  n  n   n    y    n   y   y   n
## 4   democrat    n  y  y    n &lt;NA&gt;  y  n  n  n   n    y    n   y   n   n
## 5   democrat    y  y  y    n    y  y  n  n  n   n    y &lt;NA&gt;   y   y   y
## 6   democrat    n  y  y    n    y  y  n  n  n   n    n    n   y   y   y
##    V16
## 1    y
## 2 &lt;NA&gt;
## 3    n
## 4    y
## 5    y
## 6    y</code></pre>
<pre class="r"><code># predict the outcome of the first 20 records
predict(model, HouseVotes84[1:20,-1]) </code></pre>
<pre><code>##  [1] republican republican republican democrat   democrat   democrat  
##  [7] republican republican republican democrat   republican republican
## [13] democrat   democrat   republican republican democrat   democrat  
## [19] republican democrat  
## Levels: democrat republican</code></pre>
<pre class="r"><code># same but displaying posteriors
predict(model, HouseVotes84[1:20,-1], type = &quot;raw&quot;) </code></pre>
<pre><code>##           democrat   republican
##  [1,] 1.029209e-07 9.999999e-01
##  [2,] 5.820415e-08 9.999999e-01
##  [3,] 5.684937e-03 9.943151e-01
##  [4,] 9.985798e-01 1.420152e-03
##  [5,] 9.666720e-01 3.332802e-02
##  [6,] 8.121430e-01 1.878570e-01
##  [7,] 1.751512e-04 9.998248e-01
##  [8,] 8.300100e-06 9.999917e-01
##  [9,] 8.277705e-08 9.999999e-01
## [10,] 1.000000e+00 5.029425e-11
## [11,] 1.122180e-06 9.999989e-01
## [12,] 5.922777e-06 9.999941e-01
## [13,] 1.000000e+00 5.040020e-09
## [14,] 1.000000e+00 6.242221e-10
## [15,] 4.846577e-07 9.999995e-01
## [16,] 1.154563e-07 9.999999e-01
## [17,] 9.999975e-01 2.524185e-06
## [18,] 1.000000e+00 7.477385e-11
## [19,] 6.641180e-08 9.999999e-01
## [20,] 1.000000e+00 7.400151e-13</code></pre>
<pre class="r"><code># now all of them: this is the resubstituion error
pred &lt;- predict(model, HouseVotes84[,-1])

# form and display confusion matrix &amp; overall accuracy
tab &lt;- table(pred, HouseVotes84$Class) 
tab</code></pre>
<pre><code>##             
## pred         democrat republican
##   democrat        238         13
##   republican       29        155</code></pre>
<pre class="r"><code>sum(tab[row(tab)==col(tab)])/sum(tab)</code></pre>
<pre><code>## [1] 0.9034483</code></pre>
<pre class="r"><code>## using Laplace smoothing: 
model &lt;- naiveBayes(Class ~ ., data = HouseVotes84, laplace = 3)
pred &lt;- predict(model, HouseVotes84[,-1]) 
tab &lt;- table(pred, HouseVotes84$Class) 
sum(tab[row(tab)==col(tab)])/sum(tab)</code></pre>
<pre><code>## [1] 0.9034483</code></pre>
</div>
</div>

    </div>

    <footer>
        <ul class="stats">
    
        

        
        
    

    
    
</ul>

    </footer>
</article>
<ul class="actions pagination">
    
        <li><a href="https://bgpanwar.github.io/post/support-vector-machine/"
                class="button big previous">Support Vector Machine</a></li>
    

    
        <li><a href="https://bgpanwar.github.io/post/scatter/"
                class="button big next">Scatter</a></li>
    
</ul>



    
        <article class="post">
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'shortname';
    var disqus_identifier = 'https:\/\/bgpanwar.github.io\/post\/spam-filter\/';
    var disqus_title = 'Spam Filter';
    var disqus_url = 'https:\/\/bgpanwar.github.io\/post\/spam-filter\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </article>
    


    </div>
    
<section id="sidebar">

    
        <section id="intro">
            
            
                
                    <img src="/img/main/logo.jpg" class="intro-circle" width="" alt="Hugo Future Imperfect" />
                
            
            
                <header>
                    <h2>Data Pond</h2>
                    <p>Bhawna G. Panwar</p>
                </header>
            
            <ul class="icons">
                
                
                    
<li><a href="//github.com/bgpanwar" target="_blank" title="GitHub" class="fa fa-github"></a></li>



































<li><a href="//linkedin.com/in/bgpanwar" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>















<li><a href="//twitter.com/bgpanwar" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>



<li><a href="mailto:bgpanwar@gmail.com" title="Email" class="fa fa-envelope"></a></li>


                
            </ul>
        </section>

    
        <section id="recent-posts">
            <ul class="posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <h3><a href="https://bgpanwar.github.io/post/ann-rmd/">ANN</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2017-07-01'>
                                    July 1, 2017</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="https://bgpanwar.github.io/post/scatter/">Scatter</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2017-07-01'>
                                    July 1, 2017</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="https://bgpanwar.github.io/post/spam-filter/">Spam Filter</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2017-07-01'>
                                    July 1, 2017</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="https://bgpanwar.github.io/post/support-vector-machine/">Support Vector Machine</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2017-07-01'>
                                    July 1, 2017</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="https://bgpanwar.github.io/post/times-series/">Times Series</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2017-07-01'>
                                    July 1, 2017</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="https://bgpanwar.github.io/post/bootstrap/">How does the Bootstrap method work?</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2017-06-11'>
                                    June 11, 2017</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="https://bgpanwar.github.io/post/">Posts</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2017-07-01'>
                                    July 1, 2017</time>
                            </header>
                        </article>
                    </li>
                

                
            </ul>
        </section>

    
    
    
    
        <section id="categories">
            <ul class="posts">
                <header>
                    <h3><a href="/categories/">Categories</a></h3>
                </header>

                
                    
                

                
            </ul>
        </section>
    

    
        
        <section class="blurb">
            <h2>About</h2>
            <p>Hi, Welcome to my blog.</p>

            <ul class="actions">
                <li><a href="/about/" class="button">Learn More</a></li>
            </ul>
        </section>
        

    
        <section id="footer">
            <ul class="icons">
                
                
            </ul>

            <p class="copyright">&copy; Data Pond. Design: <a href="http://html5up.net" target="_blank">HTML5 UP</a>. Ported by <a href="//github.com/jpescador" target="_blank">Julio Pescador</a>. Powered by <a href="//gohugo.io" target="_blank">Hugo</a></p>
        </section>

</section>

            </div>
        <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
        

        
        
            
        

        
        
            <script src="/js/jquery.min.js"></script>
            <script src="/js/skel.min.js"></script>
            <script src="/js/util.js"></script>
            <script src="/js/main.js"></script>
            <script src="/js/backToTop.js"></script>
            <script src="/js/highlight.pack.js"></script>
        

        

            
            <script>hljs.initHighlightingOnLoad();</script>
            
    </body>
</html>

